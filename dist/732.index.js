"use strict";(this.webpackChunkShogunButtonReact=this.webpackChunkShogunButtonReact||[]).push([[732],{27732:(t,e,n)=>{n.d(e,{chacha20poly1305:()=>v});var r=n(28246);const o=t=>Uint8Array.from(t.split(""),t=>t.charCodeAt(0)),s=o("expand 16-byte k"),i=o("expand 32-byte k"),h=(0,r.DH)(s),u=(0,r.DH)(i);function c(t,e){return t<<e|t>>>32-e}function a(t){return t.byteOffset%4==0}const l=2**32-1,f=Uint32Array.of();function d(t,e){const{allowShortKeys:n,extendNonceFn:o,counterLength:s,counterRight:i,rounds:c}=(0,r.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if("function"!=typeof t)throw new Error("core must be a function");return(0,r.Fe)(s),(0,r.Fe)(c),(0,r.e8)(i),(0,r.e8)(n),(e,d,p,y,w=0)=>{(0,r.DO)(e,void 0,"key"),(0,r.DO)(d,void 0,"nonce"),(0,r.DO)(p,void 0,"data");const g=p.length;if(void 0===y&&(y=new Uint8Array(g)),(0,r.DO)(y,void 0,"output"),(0,r.Fe)(w),w<0||w>=l)throw new Error("arx: counter overflow");if(y.length<g)throw new Error(`arx: output (${y.length}) is shorter than data (${g})`);const b=[];let A,D,k=e.length;if(32===k)b.push(A=(0,r.nC)(e)),D=u;else{if(16!==k||!n)throw(0,r.DO)(e,32,"arx key"),new Error("invalid key size");A=new Uint8Array(32),A.set(e),A.set(e,16),D=h,b.push(A)}a(d)||b.push(d=(0,r.nC)(d));const H=(0,r.DH)(A);if(o){if(24!==d.length)throw new Error("arx: extended nonce must be 24 bytes");o(D,H,(0,r.DH)(d.subarray(0,16)),H),d=d.subarray(16)}const L=16-s;if(L!==d.length)throw new Error(`arx: nonce must be ${L} or 16 bytes`);if(12!==L){const t=new Uint8Array(12);t.set(d,i?0:12-d.length),d=t,b.push(d)}const U=(0,r.DH)(d);return function(t,e,n,o,s,i,h,u){const c=s.length,d=new Uint8Array(64),p=(0,r.DH)(d),y=a(s)&&a(i),w=y?(0,r.DH)(s):f,g=y?(0,r.DH)(i):f;for(let r=0;r<c;h++){if(t(e,n,o,p,h,u),h>=l)throw new Error("arx: counter overflow");const a=Math.min(64,c-r);if(y&&64===a){const t=r/4;if(r%4!=0)throw new Error("arx: invalid block position");for(let e,n=0;n<16;n++)e=t+n,g[e]=w[e]^p[n];r+=64;continue}for(let t,e=0;e<a;e++)t=r+e,i[t]=s[t]^d[e];r+=a}}(t,D,H,U,p,y,w,c),(0,r.uH)(...b),y}}function p(t,e){return 255&t[e++]|(255&t[e++])<<8}class y{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(t){const e=p(t=(0,r.nC)((0,r.DO)(t,32,"key")),0),n=p(t,2),o=p(t,4),s=p(t,6),i=p(t,8),h=p(t,10),u=p(t,12),c=p(t,14);this.r[0]=8191&e,this.r[1]=8191&(e>>>13|n<<3),this.r[2]=7939&(n>>>10|o<<6),this.r[3]=8191&(o>>>7|s<<9),this.r[4]=255&(s>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|h<<2),this.r[7]=8065&(h>>>11|u<<5),this.r[8]=8191&(u>>>8|c<<8),this.r[9]=c>>>5&127;for(let e=0;e<8;e++)this.pad[e]=p(t,16+2*e)}process(t,e,n=!1){const r=n?0:2048,{h:o,r:s}=this,i=s[0],h=s[1],u=s[2],c=s[3],a=s[4],l=s[5],f=s[6],d=s[7],y=s[8],w=s[9],g=p(t,e+0),b=p(t,e+2),A=p(t,e+4),D=p(t,e+6),k=p(t,e+8),H=p(t,e+10),L=p(t,e+12),U=p(t,e+14);let v=o[0]+(8191&g),x=o[1]+(8191&(g>>>13|b<<3)),C=o[2]+(8191&(b>>>10|A<<6)),E=o[3]+(8191&(A>>>7|D<<9)),O=o[4]+(8191&(D>>>4|k<<12)),S=o[5]+(k>>>1&8191),m=o[6]+(8191&(k>>>14|H<<2)),R=o[7]+(8191&(H>>>11|L<<5)),F=o[8]+(8191&(L>>>8|U<<8)),$=o[9]+(U>>>5|r),z=0,K=z+v*i+x*(5*w)+C*(5*y)+E*(5*d)+O*(5*f);z=K>>>13,K&=8191,K+=S*(5*l)+m*(5*a)+R*(5*c)+F*(5*u)+$*(5*h),z+=K>>>13,K&=8191;let N=z+v*h+x*i+C*(5*w)+E*(5*y)+O*(5*d);z=N>>>13,N&=8191,N+=S*(5*f)+m*(5*l)+R*(5*a)+F*(5*c)+$*(5*u),z+=N>>>13,N&=8191;let B=z+v*u+x*h+C*i+E*(5*w)+O*(5*y);z=B>>>13,B&=8191,B+=S*(5*d)+m*(5*f)+R*(5*l)+F*(5*a)+$*(5*c),z+=B>>>13,B&=8191;let I=z+v*c+x*u+C*h+E*i+O*(5*w);z=I>>>13,I&=8191,I+=S*(5*y)+m*(5*d)+R*(5*f)+F*(5*l)+$*(5*a),z+=I>>>13,I&=8191;let M=z+v*a+x*c+C*u+E*h+O*i;z=M>>>13,M&=8191,M+=S*(5*w)+m*(5*y)+R*(5*d)+F*(5*f)+$*(5*l),z+=M>>>13,M&=8191;let q=z+v*l+x*a+C*c+E*u+O*h;z=q>>>13,q&=8191,q+=S*i+m*(5*w)+R*(5*y)+F*(5*d)+$*(5*f),z+=q>>>13,q&=8191;let P=z+v*f+x*l+C*a+E*c+O*u;z=P>>>13,P&=8191,P+=S*h+m*i+R*(5*w)+F*(5*y)+$*(5*d),z+=P>>>13,P&=8191;let Y=z+v*d+x*f+C*l+E*a+O*c;z=Y>>>13,Y&=8191,Y+=S*u+m*h+R*i+F*(5*w)+$*(5*y),z+=Y>>>13,Y&=8191;let j=z+v*y+x*d+C*f+E*l+O*a;z=j>>>13,j&=8191,j+=S*c+m*u+R*h+F*i+$*(5*w),z+=j>>>13,j&=8191;let G=z+v*w+x*y+C*d+E*f+O*l;z=G>>>13,G&=8191,G+=S*a+m*c+R*u+F*h+$*i,z+=G>>>13,G&=8191,z=(z<<2)+z|0,z=z+K|0,K=8191&z,z>>>=13,N+=z,o[0]=K,o[1]=N,o[2]=B,o[3]=I,o[4]=M,o[5]=q,o[6]=P,o[7]=Y,o[8]=j,o[9]=G}finalize(){const{h:t,pad:e}=this,n=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let e=2;e<10;e++)t[e]+=o,o=t[e]>>>13,t[e]&=8191;t[0]+=5*o,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,n[0]=t[0]+5,o=n[0]>>>13,n[0]&=8191;for(let e=1;e<10;e++)n[e]=t[e]+o,o=n[e]>>>13,n[e]&=8191;n[9]-=8192;let s=(1^o)-1;for(let t=0;t<10;t++)n[t]&=s;s=~s;for(let e=0;e<10;e++)t[e]=t[e]&s|n[e];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let i=t[0]+e[0];t[0]=65535&i;for(let n=1;n<8;n++)i=(t[n]+e[n]|0)+(i>>>16)|0,t[n]=65535&i;(0,r.uH)(n)}update(t){(0,r.CC)(this),(0,r.DO)(t),t=(0,r.nC)(t);const{buffer:e,blockLen:n}=this,o=t.length;for(let r=0;r<o;){const s=Math.min(n-this.pos,o-r);if(s!==n)e.set(t.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===n&&(this.process(e,0,!1),this.pos=0);else for(;n<=o-r;r+=n)this.process(t,r)}return this}destroy(){(0,r.uH)(this.h,this.r,this.buffer,this.pad)}digestInto(t){(0,r.CC)(this),(0,r.Ht)(t,this),this.finished=!0;const{buffer:e,h:n}=this;let{pos:o}=this;if(o){for(e[o++]=1;o<16;o++)e[o]=0;this.process(e,0,!0)}this.finalize();let s=0;for(let e=0;e<8;e++)t[s++]=n[e]>>>0,t[s++]=n[e]>>>8;return t}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}}const w=(()=>function(t){const e=(e,n)=>t(n).update(e).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e}(t=>new y(t)))();function g(t,e,n,r,o,s=20){let i=t[0],h=t[1],u=t[2],a=t[3],l=e[0],f=e[1],d=e[2],p=e[3],y=e[4],w=e[5],g=e[6],b=e[7],A=o,D=n[0],k=n[1],H=n[2],L=i,U=h,v=u,x=a,C=l,E=f,O=d,S=p,m=y,R=w,F=g,$=b,z=A,K=D,N=k,B=H;for(let t=0;t<s;t+=2)L=L+C|0,z=c(z^L,16),m=m+z|0,C=c(C^m,12),L=L+C|0,z=c(z^L,8),m=m+z|0,C=c(C^m,7),U=U+E|0,K=c(K^U,16),R=R+K|0,E=c(E^R,12),U=U+E|0,K=c(K^U,8),R=R+K|0,E=c(E^R,7),v=v+O|0,N=c(N^v,16),F=F+N|0,O=c(O^F,12),v=v+O|0,N=c(N^v,8),F=F+N|0,O=c(O^F,7),x=x+S|0,B=c(B^x,16),$=$+B|0,S=c(S^$,12),x=x+S|0,B=c(B^x,8),$=$+B|0,S=c(S^$,7),L=L+E|0,B=c(B^L,16),F=F+B|0,E=c(E^F,12),L=L+E|0,B=c(B^L,8),F=F+B|0,E=c(E^F,7),U=U+O|0,z=c(z^U,16),$=$+z|0,O=c(O^$,12),U=U+O|0,z=c(z^U,8),$=$+z|0,O=c(O^$,7),v=v+S|0,K=c(K^v,16),m=m+K|0,S=c(S^m,12),v=v+S|0,K=c(K^v,8),m=m+K|0,S=c(S^m,7),x=x+C|0,N=c(N^x,16),R=R+N|0,C=c(C^R,12),x=x+C|0,N=c(N^x,8),R=R+N|0,C=c(C^R,7);let I=0;r[I++]=i+L|0,r[I++]=h+U|0,r[I++]=u+v|0,r[I++]=a+x|0,r[I++]=l+C|0,r[I++]=f+E|0,r[I++]=d+O|0,r[I++]=p+S|0,r[I++]=y+m|0,r[I++]=w+R|0,r[I++]=g+F|0,r[I++]=b+$|0,r[I++]=A+z|0,r[I++]=D+K|0,r[I++]=k+N|0,r[I++]=H+B|0}const b=d(g,{counterRight:!1,counterLength:4,allowShortKeys:!1}),A=d(g,{counterRight:!1,counterLength:8,extendNonceFn:function(t,e,n,r){let o=t[0],s=t[1],i=t[2],h=t[3],u=e[0],a=e[1],l=e[2],f=e[3],d=e[4],p=e[5],y=e[6],w=e[7],g=n[0],b=n[1],A=n[2],D=n[3];for(let t=0;t<20;t+=2)o=o+u|0,g=c(g^o,16),d=d+g|0,u=c(u^d,12),o=o+u|0,g=c(g^o,8),d=d+g|0,u=c(u^d,7),s=s+a|0,b=c(b^s,16),p=p+b|0,a=c(a^p,12),s=s+a|0,b=c(b^s,8),p=p+b|0,a=c(a^p,7),i=i+l|0,A=c(A^i,16),y=y+A|0,l=c(l^y,12),i=i+l|0,A=c(A^i,8),y=y+A|0,l=c(l^y,7),h=h+f|0,D=c(D^h,16),w=w+D|0,f=c(f^w,12),h=h+f|0,D=c(D^h,8),w=w+D|0,f=c(f^w,7),o=o+a|0,D=c(D^o,16),y=y+D|0,a=c(a^y,12),o=o+a|0,D=c(D^o,8),y=y+D|0,a=c(a^y,7),s=s+l|0,g=c(g^s,16),w=w+g|0,l=c(l^w,12),s=s+l|0,g=c(g^s,8),w=w+g|0,l=c(l^w,7),i=i+f|0,b=c(b^i,16),d=d+b|0,f=c(f^d,12),i=i+f|0,b=c(b^i,8),d=d+b|0,f=c(f^d,7),h=h+u|0,A=c(A^h,16),p=p+A|0,u=c(u^p,12),h=h+u|0,A=c(A^h,8),p=p+A|0,u=c(u^p,7);let k=0;r[k++]=o,r[k++]=s,r[k++]=i,r[k++]=h,r[k++]=g,r[k++]=b,r[k++]=A,r[k++]=D},allowShortKeys:!1}),D=new Uint8Array(16),k=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(D.subarray(n))},H=new Uint8Array(32);function L(t,e,n,o,s){void 0!==s&&(0,r.DO)(s,void 0,"AAD");const i=t(e,n,H),h=(0,r.Pg)(o.length,s?s.length:0,!0),u=w.create(i);s&&k(u,s),k(u,o),u.update(h);const c=u.digest();return(0,r.uH)(i,h),c}const U=t=>(e,n,o)=>({encrypt(s,i){const h=s.length;(i=(0,r.N$)(h+16,i,!1)).set(s);const u=i.subarray(0,-16);t(e,n,u,u,1);const c=L(t,e,n,u,o);return i.set(c,h),(0,r.uH)(c),i},decrypt(s,i){i=(0,r.N$)(s.length-16,i,!1);const h=s.subarray(0,-16),u=s.subarray(-16),c=L(t,e,n,h,o);if(!(0,r.ex)(u,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),(0,r.uH)(c),i}}),v=(0,r.qn)({blockSize:64,nonceLength:12,tagLength:16},U(b));U(A)}}]);